const e=document.getElementById("submit-button"),t=document.getElementById("answers-section"),s=document.getElementById("tutorial-section"),n=document.getElementById("results-section"),d=document.getElementById("heading"),a=async e=>{let t="mixed"===e?"":`&difficulty=${e}`;try{let e=await fetch(`https://opentdb.com/api.php?amount=10&category=12&type=multiple${t}`);return await e.json()}catch(e){alert("Failed to fetch questions from Open Trivia Database. Refresh and try again"),console.error("Failed to fetch data with Trivia API",e)}},i=e=>new DOMParser().parseFromString(e,"text/html").body.textContent,l=e=>{for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e},r=()=>{for(let e=0;e<=3;e++)document.getElementById(`answer-${e}`).classList.add("disabled")},c=()=>{for(let e=0;e<=3;e++)document.getElementById(`answer-${e}`).classList.remove("disabled")},o=()=>{for(let e of(document.getElementById("main").classList.add("red"),document.getElementsByClassName("symbol")))e.src="assets/images/musicquiz-red.png";for(let e of document.getElementsByClassName("title"))e.classList.add("red")},m=()=>{for(let e of(document.getElementById("main").classList.remove("red"),document.getElementsByClassName("symbol")))e.src="assets/images/musicquiz-green.png";for(let e of document.getElementsByClassName("title"))e.classList.remove("red")},u=e=>{for(let t=0;t<=3;t++)t!==e&&document.getElementById(`difficulty-${t}`).classList.remove("selected")};let g={},y=0,L=0,f=null,h="mixed";document.addEventListener("DOMContentLoaded",()=>{let t=new Date-Date.parse(localStorage.getItem("fetchTime"));t<=5e3&&(e.classList.add("disabled"),e.innerText="Loading...",setTimeout(()=>{e.classList.remove("disabled"),e.innerText="Start"},5e3-t+500)),e.addEventListener("click",()=>{e.classList.contains("disabled")||(0===y||"Start"===e.innerText?E():10===y?B():y>10?w():I(),m())});for(let t=0;t<=3;t++){let s=document.getElementById(`answer-${t}`);s.addEventListener("click",()=>{s.classList.contains("disabled")||(t===f?(s.classList.add("correct","selected"),L+=1):(s.classList.add("incorrect","selected"),document.getElementById(`answer-${f}`).classList.add("correct"),o()),r(),e.classList.remove("disabled"))})}for(let e=0;e<=3;e++){let t=document.getElementById(`difficulty-${e}`);t.addEventListener("click",()=>{t.classList.add("selected"),u(e),h=t.textContent.toLowerCase()})}});const E=async()=>{localStorage.setItem("fetchTime",new Date),g=await a(h),e.innerText="Next",s.classList.add("hidden"),t.classList.remove("hidden"),I()},B=()=>{d.innerText="You scored",t.classList.add("hidden"),n.classList.remove("hidden"),document.getElementById("score").innerText=L+` point${L>1?"s":""}`,e.innerText="Restart quiz",y+=1},I=()=>{let t=g.results[y];y+=1;let s=i(t.question);d.innerText=y+". "+s,s.length>80&&document.getElementById("heading").classList.add("shrink");let n=l([...t.incorrect_answers,t.correct_answer]);for(let e=0;e<=3;e++){let s=document.getElementById(`answer-${e}`);s.classList.remove("correct","incorrect","selected"),n[e]===t.correct_answer&&(f=e),n[e]||(s.hidden="true"),s.innerText=i(n[e])}c(),e.classList.add("disabled"),10===y&&(e.innerText="Finish")},w=()=>{y=0,L=0,e.innerText="Start",d.innerText="How to play",n.classList.add("hidden"),s.classList.remove("hidden")};
//# sourceMappingURL=index.a4eb644d.js.map

function e(e){return e&&e.__esModule?e.default:e}const t=document.getElementById("submit-button"),s=document.getElementById("answers-section"),n=document.getElementById("tutorial-section"),i=document.getElementById("results-section"),d=document.getElementById("heading"),a=async e=>{let t="mixed"===e?"":`&difficulty=${e}`;localStorage.setItem("fetchTime",new Date);try{let e=await fetch(`https://opentdb.com/api.php?amount=10&category=12&type=multiple${t}`);return await e.json()}catch(e){alert("Failed to fetch questions from Open Trivia Database. Refresh and try again"),console.error("Failed to fetch data with Trivia API",e)}};var l={};l=JSON.parse('{"siteTitle":"a music quiz","author":"Tudor Popescu","description":"Music quiz for audiophiles to test their knowledge.","keywords":"Music Quiz. Music. Music trivia. Quiz.","difficulties":["mixed","easy","medium","hard"],"tutorialSteps":["There are 10 questions","Each question values 1 point","Maximum score is 10","Choose difficulty"]}');const o=e=>new DOMParser().parseFromString(e,"text/html").body.textContent,r=e=>{for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e},c=e=>e[0].toUpperCase()+e.slice(1),m=()=>{for(let t of(document.getElementById("title").innerText=e(l).siteTitle,document.getElementById("header-title").innerText=e(l).siteTitle,document.getElementById("footer-title").innerText=e(l).siteTitle,document.getElementsByTagName("meta")))"author"===t.name&&(t.content=e(l).author),"description"===t.name&&(t.content=e(l).description),"keywords"===t.name&&(t.content=e(l).keywords);for(let t=0;t<=3;t++){let s=document.createElement("li");s.innerText=e(l).tutorialSteps[t],document.getElementById("tutorial-steps").appendChild(s)}for(let e=0;e<=3;e++){let t=document.createElement("button");t.setAttribute("id",`answer-${e}`),document.getElementById("answers-section").appendChild(t)}for(let t=0;t<e(l).difficulties.length;t++){let s=document.createElement("button");s.setAttribute("id",`difficulty-${t}`),s.innerText=c(e(l).difficulties[t]),0===t&&s.classList.add("selected"),document.getElementById("select-difficulty").appendChild(s)}},u=()=>{for(let e=0;e<=3;e++)document.getElementById(`answer-${e}`).classList.add("disabled")},f=()=>{for(let e=0;e<=3;e++)document.getElementById(`answer-${e}`).classList.remove("disabled")},y=()=>{for(let e of(document.getElementById("main").classList.add("red"),document.getElementsByClassName("symbol")))e.src="assets/images/musicquiz-red.png";for(let e of document.getElementsByClassName("title"))e.classList.add("red")},g=()=>{for(let e of(document.getElementById("main").classList.remove("red"),document.getElementsByClassName("symbol")))e.src="assets/images/musicquiz-green.png";for(let e of document.getElementsByClassName("title"))e.classList.remove("red")},h=e=>{for(let t=0;t<=3;t++)t!==e&&document.getElementById(`difficulty-${t}`).classList.remove("selected")},E=async e=>{let i=await a(e);return t.innerText="Next",n.classList.add("hidden"),s.classList.remove("hidden"),i},p=e=>{d.innerText=e<5?"Oh... you only scored":e<=8?"Not bad! You scored":"Wow! You scored a whopping",s.classList.add("hidden"),i.classList.remove("hidden"),document.getElementById("score").innerText=e+` point${e>1?"s":""}`,document.getElementById("score-details").innerText="out of 10",t.innerText="Restart quiz"},L=(e,s)=>{let n=e.results[s],i=o(n.question);d.innerText=s+1+". "+i,i.length>80&&document.getElementById("heading").classList.add("shrink");let a=r([...n.incorrect_answers,n.correct_answer]),l=-1;for(let e=0;e<=3;e++){let t=document.getElementById(`answer-${e}`);t.classList.remove("correct","incorrect","selected"),a[e]===n.correct_answer&&(l=e),a[e]||(t.hidden="true"),t.innerText=o(a[e])}return f(),t.classList.add("disabled"),9===s&&(t.innerText="Finish"),l},T=()=>{t.innerText="Start",d.innerText="How to play",i.classList.add("hidden"),n.classList.remove("hidden")};let B={},w=0,x=0,I=null,b="mixed";document.addEventListener("DOMContentLoaded",()=>{m();let e=new Date-Date.parse(localStorage.getItem("fetchTime"));e<=5e3&&(t.classList.add("disabled"),t.innerText="Loading...",setTimeout(()=>{t.classList.remove("disabled"),t.innerText="Start"},5e3-e+500)),t.addEventListener("click",async()=>{t.classList.contains("disabled")||(0===w||"Start"===t.innerText?(I=L(B=await E(b),w),w+=1):10===w?(p(x),w+=1):i.classList.contains("hidden")?(I=L(B,w),w+=1):(T(),x=0,w=0),g())});for(let e=0;e<=3;e++){let s=document.getElementById(`answer-${e}`);s.addEventListener("click",()=>{s.classList.contains("disabled")||(e===I?(s.classList.add("correct","selected"),x+=1):(s.classList.add("incorrect","selected"),document.getElementById(`answer-${I}`).classList.add("correct"),y()),u(),t.classList.remove("disabled"))})}for(let e=0;e<=3;e++){let t=document.getElementById(`difficulty-${e}`);t.addEventListener("click",()=>{t.classList.add("selected"),h(e),b=t.textContent.toLowerCase()})}});
//# sourceMappingURL=index.8cbe51fb.js.map
